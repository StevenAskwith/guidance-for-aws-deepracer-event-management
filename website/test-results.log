
> drem@0.1.0 test
> react-scripts test --passWithNoTests --watchAll=false

PASS src/support-functions/time.test.ts
PASS src/admin/race-admin/support-functions/raceTableConfig.test.ts
FAIL src/admin/race-admin/support-functions/metricCalculations.test.ts
  ● Race Manager › Metric Calculation › Total number of resets › for one race with one lap

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "totalresets": 10,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      136 |         const raceMetrics = calculateMetrics(singleRace);
      137 |
    > 138 |         expect(raceMetrics).toEqual(
          |                             ^
      139 |           expect.objectContaining({
      140 |             totalresets: totalResets,
      141 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:138:29)

  ● Race Manager › Metric Calculation › Total number of resets › for one race with two laps

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "totalresets": 27,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      157 |         const raceMetrics = calculateMetrics(singleRace);
      158 |
    > 159 |         expect(raceMetrics).toEqual(
          |                             ^
      160 |           expect.objectContaining({
      161 |             totalresets: totalResets,
      162 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:159:29)

  ● Race Manager › Metric Calculation › Total number of resets › for two races

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "totalresets": 46,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "2.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 2,
    +   "numberOfRaces": 2,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 4,
    +   "totalresets": 0,
      }

      187 |         const raceMetrics = calculateMetrics(races);
      188 |
    > 189 |         expect(raceMetrics).toEqual(
          |                             ^
      190 |           expect.objectContaining({
      191 |             totalresets: totalResets,
      192 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:189:29)

  ● Race Manager › Metric Calculation › Avg resets per lap › for one race with one lap

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgresestsPerLap": "10.0",
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      256 |         const raceMetrics = calculateMetrics(singleRace);
      257 |
    > 258 |         expect(raceMetrics).toEqual(
          |                             ^
      259 |           expect.objectContaining({
      260 |             avgresestsPerLap: '10.0',
      261 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:258:29)

  ● Race Manager › Metric Calculation › Avg resets per lap › for one race with two laps - interger

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgresestsPerLap": "15.0",
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      274 |         const raceMetrics = calculateMetrics(singleRace);
      275 |
    > 276 |         expect(raceMetrics).toEqual(
          |                             ^
      277 |           expect.objectContaining({
      278 |             avgresestsPerLap: '15.0',
      279 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:276:29)

  ● Race Manager › Metric Calculation › Avg resets per lap › for one race with two laps - float

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgresestsPerLap": "16.5",
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      292 |         const raceMetrics = calculateMetrics(singleRace);
      293 |
    > 294 |         expect(raceMetrics).toEqual(
          |                             ^
      295 |           expect.objectContaining({
      296 |             avgresestsPerLap: '16.5',
      297 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:294:29)

  ● Race Manager › Metric Calculation › Avg resets per lap › for two races - integer

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgresestsPerLap": "25.0",
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "2.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 2,
    +   "numberOfRaces": 2,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 4,
    +   "totalresets": 0,
      }

      316 |         const raceMetrics = calculateMetrics(races);
      317 |
    > 318 |         expect(raceMetrics).toEqual(
          |                             ^
      319 |           expect.objectContaining({
      320 |             avgresestsPerLap: '25.0',
      321 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:318:29)

  ● Race Manager › Metric Calculation › Avg Laptime › for one race with one lap

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgLapTime": 1000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      406 |         const raceMetrics = calculateMetrics(singleRace);
      407 |
    > 408 |         expect(raceMetrics).toEqual(
          |                             ^
      409 |           expect.objectContaining({
      410 |             avgLapTime: 1000,
      411 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:408:29)

  ● Race Manager › Metric Calculation › Avg Laptime › for one race with two laps

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgLapTime": 2000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      424 |         const raceMetrics = calculateMetrics(singleRace);
      425 |
    > 426 |         expect(raceMetrics).toEqual(
          |                             ^
      427 |           expect.objectContaining({
      428 |             avgLapTime: 2000,
      429 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:426:29)

  ● Race Manager › Metric Calculation › Avg Laptime › for two races - integer

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "avgLapTime": 3000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "2.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 2,
    +   "numberOfRaces": 2,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 4,
    +   "totalresets": 0,
      }

      448 |         const raceMetrics = calculateMetrics(races);
      449 |
    > 450 |         expect(raceMetrics).toEqual(
          |                             ^
      451 |           expect.objectContaining({
      452 |             avgLapTime: 3000,
      453 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:450:29)

  ● Race Manager › Metric Calculation › Fastest Laptime › for one race with one lap

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "fastestLap": 1000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      462 |         const raceMetrics = calculateMetrics(singleRace);
      463 |
    > 464 |         expect(raceMetrics).toEqual(
          |                             ^
      465 |           expect.objectContaining({
      466 |             fastestLap: 1000,
      467 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:464:29)

  ● Race Manager › Metric Calculation › Fastest Laptime › for one race with two laps

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "fastestLap": 600,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      480 |         const raceMetrics = calculateMetrics(singleRace);
      481 |
    > 482 |         expect(raceMetrics).toEqual(
          |                             ^
      483 |           expect.objectContaining({
      484 |             fastestLap: 600,
      485 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:482:29)

  ● Race Manager › Metric Calculation › Fastest Laptime › for one race with two laps, one not valid

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "fastestLap": 1000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      498 |         const raceMetrics = calculateMetrics(singleRace);
      499 |
    > 500 |         expect(raceMetrics).toEqual(
          |                             ^
      501 |           expect.objectContaining({
      502 |             fastestLap: 1000,
      503 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:500:29)

  ● Race Manager › Metric Calculation › Fastest Laptime › for two races - integer

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "fastestLap": 900,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "2.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 2,
    +   "numberOfRaces": 2,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 4,
    +   "totalresets": 0,
      }

      522 |         const raceMetrics = calculateMetrics(races);
      523 |
    > 524 |         expect(raceMetrics).toEqual(
          |                             ^
      525 |           expect.objectContaining({
      526 |             fastestLap: 900,
      527 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:524:29)

  ● Race Manager › Metric Calculation › Slowest Laptime › for one race with one lap

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "slowestLap": 7000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      535 |
      536 |         const raceMetrics = calculateMetrics(singleRace);
    > 537 |         expect(raceMetrics).toEqual(
          |                             ^
      538 |           expect.objectContaining({
      539 |             slowestLap: 7000,
      540 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:537:29)

  ● Race Manager › Metric Calculation › Slowest Laptime › for one race with two laps

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "slowestLap": 5000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 2,
    +   "totalresets": 0,
      }

      553 |         const raceMetrics = calculateMetrics(singleRace);
      554 |
    > 555 |         expect(raceMetrics).toEqual(
          |                             ^
      556 |           expect.objectContaining({
      557 |             slowestLap: 5000,
      558 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:555:29)

  ● Race Manager › Metric Calculation › Slowest Laptime › for one race with two laps, one not valid

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "slowestLap": 1000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "1.0",
    +   "avgRacesPerUser": "1.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 1,
    +   "numberOfRaces": 1,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 1,
    +   "totalresets": 0,
      }

      571 |         const raceMetrics = calculateMetrics(singleRace);
      572 |
    > 573 |         expect(raceMetrics).toEqual(
          |                             ^
      574 |           expect.objectContaining({
      575 |             slowestLap: 1000,
      576 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:573:29)

  ● Race Manager › Metric Calculation › Slowest Laptime › for two races - integer

    expect(received).toEqual(expected) // deep equality

    - Expected  -  2
    + Received  + 12

    - ObjectContaining {
    -   "slowestLap": 6000,
    + Object {
    +   "avgLapTime": NaN,
    +   "avgLapsPerRace": "2.0",
    +   "avgRacesPerUser": "2.0",
    +   "avgresestsPerLap": "0.0",
    +   "fastestLap": undefined,
    +   "mostNumberOfRacesByUser": 2,
    +   "numberOfRaces": 2,
    +   "numberOfUniqueRacers": 1,
    +   "slowestLap": undefined,
    +   "totalLaps": 4,
    +   "totalresets": 0,
      }

      594 |         ];
      595 |         const raceMetrics = calculateMetrics(races);
    > 596 |         expect(raceMetrics).toEqual(
          |                             ^
      597 |           expect.objectContaining({
      598 |             slowestLap: 6000,
      599 |           })

      at Object.toEqual (src/admin/race-admin/support-functions/metricCalculations.test.ts:596:29)

PASS src/components/devices-table/deviceTableConfig.test.ts

Test Suites: 1 failed, 3 passed, 4 total
Tests:       18 failed, 22 passed, 40 total
Snapshots:   0 total
Time:        2.268 s
Ran all test suites.
